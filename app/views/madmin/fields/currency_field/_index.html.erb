<% color = record.profit_margin.positive? ? :green : :red %>
<% sign = record.profit_margin.positive? ? "+" : "-" %>
<%= tag.p style: field.attribute_name == :profit ? "color: #{color};" : "" do %>
  <%= sign if field.attribute_name == :profit %>
  <%= field.value(record) %>
  <% if record.respond_to?(:display_profit_margin) && field.attribute_name == :profit %>
    <sub style="vertical-align: top;"><%= record.display_profit_margin %></sub>
  <% end %>
<% end %>
